{"version":3,"sources":["lookup/components.js","tweets/lookup.js","sidebar/lookup.js","tweets/buttons.js","profiles/lookup.js","auth/hooks.js","profiles/components.js","profiles/utils.js","profiles/badge.js","profiles/profile.js","profiles/followlist.js","tweets/detail.js","tweets/feedlist.js","tweets/searchbar.js","tweets/create.js","tweets/components.js","sidebar/sidebar.js","sidebar/bookmarks.js","App.js","reportWebVitals.js","index.js"],"names":["backendLookup","method","endpoint","callback","data","jsonData","JSON","stringify","xhr","XMLHttpRequest","url","concat","process","responseType","csrftoken","name","cookieValue","document","cookie","cookies","split","i","length","trim","substring","decodeURIComponent","getCookie","open","setRequestHeader","onload","status","response","detail","window","location","href","indexOf","onerror","e","console","log","message","send","apiRepliesList","upperTweetId","apiTweetAction","tweetId","action","content","arguments","undefined","id","apiTweetList","username","nextUrl","replace","apiTweetFeed","apiProfileBookmarks","ActionBtn","props","tweet","didPerformAction","likes","className","_useState","useState","_useState2","_slicedToArray","modalShow","setModalShow","_useState3","_useState4","retweetContent","setRetweetContent","handleActionBackendEvent","iconClass","type","display","React","createElement","Fragment","onClick","event","preventDefault","Modal","show","onHide","Header","closeButton","Title","Body","Form","onSubmit","Group","controlId","Label","Control","rows","value","onChange","target","Button","variant","DeleteBtn","onDelete","AddOrRemoveBookmarkBtn","currentUser","didBookmarkRemoved","_useState5","_useState6","showToast","setShowToast","_useState7","_useState8","toastMessage","setToastMessage","setTimeout","data-testid","tweet_id","Toast","style","borderRadius","borderColor","height","backgroundColor","color","onClose","delay","autohide","apiProfileFollowToggle","toLowerCase","apiProfileLikes","encodeURIComponent","apiProfileReplies","apiProfileFollowers","apiProfileFollowing","useCurrentUser","setCurrentUser","isLoading","setIsLoading","useEffect","fetch","then","json","UserLink","children","UserDisplay","user","includeFullName","hideLink","nameDisplay","first_name","last_name","UserPicture","userIdSpan","ProfileRepliesOrLikesComponent","tweets","setTweets","setNextUrl","tweetUnliked","setTweetUnliked","areReplies","_useCurrentUser","sentinel","useRef","useParams","handleProfileLookup","next","results","alert","handleLoadNext","useCallback","handleLoadNextResponse","newTweets","_toConsumableArray","currentSentinel","current","observer","IntersectionObserver","entries","some","entry","isIntersecting","observe","unobserve","handleUnliked","newActionTweet","map","item","index","Tweet","unliked","key","ref","DisplayCount","numeral","format","ProfileBadge","didFollowToggle","profileLoading","currentUserUsername","currentVerb","is_following","marginLeft","marginRight","justifyContent","alignItems","align","width","bio","Intl","DateTimeFormat","month","year","Date","timestamp","Link","to","textDecoration","followers_count","following_count","ProfileBadgeComponent","didLookup","setDidLookup","profile","setProfile","setProfileLoading","handleBackendLookup","apiProfileDetail","actionVerb","ProfileComponent","_ref","selectedTab","setSelectedTab","ProfileTweetsComponent","renderTabContent","FollowListComponent","followListDidSet","setFollowListDidSet","followList","setFollowList","followers","profileUser","handleFollowListLookup","newFollowList","userToUnfollow","filter","follower","ParentTweet","onDeleteSuccess","parent","isRetweet","retweeter","hideActions","didRetweet","actionTweet","setActionTweet","repliesCount","setRepliesCount","handlePerformAction","handleBackendRepliesLookup","apiTweetDelete","TweetFeedList","tweetsInit","setTweetsInit","tweetsDidSet","setTweetsDidSet","searchedTweets","final","handleTweetListLookup","isFeed","handleDidRetweet","newTweet","updateTweetsInit","unshift","updateFinalTweets","handleDeleteSuccess","deletedTweetId","TweetSearch","searchTerm","setSearchTerm","setSearchResults","apiTweetSearch","role","placeholder","aria-label","CreateForm","textAreaRef","createRef","newVal","required","TweetCreate","didTweet","handleBackendUpdate","ReplyCreate","didReply","apiReplyCreate","FeedOrProfileTweetsComponent","setNewTweets","canTweet","searchResults","tempNewTweets","Object","assign","FeedComponent","TweetDetailComponentWrapper","TweetDetailComponent","setTweet","replies","setReplies","_useState9","_useState10","isTweetDeleted","setIsTweetDeleted","_useState11","_useState12","previousTweet","setPreviousTweet","_useState13","_useState14","handlePreviousTweetLookup","apiPreviousTweet","apiTweetDetail","handleReplyDeleteSuccess","class","newReply","tempReplies","slice","reverse","reply","SidebarComponent","BookmarksComponent","bookmarksDidSet","setBookmarksDidSet","bookmarksList","setBookmarksList","newBookmarksList","handleBookmarkRemoved","bookmark","App","textAlign","Router","margin","Routes","Route","path","element","exact","reportWebVitals","onPerfEntry","Function","__webpack_require__","bind","getCLS","getFID","getFCP","getLCP","getTTFB","appEl","getElementById","ReactDOM","createRoot","render","StrictMode"],"mappings":"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","file":"static/js/main.2f1af5a2.chunk.js","sourcesContent":["function getCookie(name) {\n  let cookieValue = null\n  if (document.cookie && document.cookie !== \"\") {\n      const cookies = document.cookie.split(\";\")\n      for (let i = 0; i < cookies.length; i++) {\n          const cookie = cookies[i].trim()\n          if (cookie.substring(0, name.length + 1) === (name + \"=\")) {\n              cookieValue = decodeURIComponent(cookie.substring(name.length + 1))\n              break\n          }\n      }\n  }\n  return cookieValue\n}\n\nexport function backendLookup(method, endpoint, callback, data) {\n  let jsonData\n  if (data) {\n    jsonData = JSON.stringify(data)\n  }\n  const xhr = new XMLHttpRequest()\n  const url = `${process.env.REACT_APP_BACKEND_BASE_URL}/api${endpoint}`\n  xhr.responseType = \"json\"\n  const csrftoken = getCookie(\"csrftoken\")\n  xhr.open(method, url)\n  xhr.setRequestHeader(\"Content-Type\", \"application/json\")\n  if (csrftoken) {\n    xhr.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\")\n    xhr.setRequestHeader(\"X-CSRFToken\", csrftoken)\n  }\n  xhr.onload = function() {\n    if (xhr.status === 403) {\n      const detail = xhr.response.detail\n      if (detail === \"Authentication credentials were not provided.\") {\n        if (window.location.href.indexOf(\"login\") === -1) {\n          window.location.href = \"/login?showLoginRequired=true\"\n        }\n      }\n    }\n    callback(xhr.response, xhr.status)\n  }\n  xhr.onerror = function(e) {\n    console.log(e)\n    callback({\"message\": \"An error occurred.\"}, 400)\n  }\n  xhr.send(jsonData)\n}","import {backendLookup} from \"../lookup\"\n\nexport function apiTweetCreate(newTweet, callback) {\n    backendLookup(\"POST\", \"/tweets/create/\", callback, {content: newTweet})\n}\n\nexport function apiReplyCreate(newTweet, upperTweetId, callback) {\n    backendLookup(\"POST\", `/tweets/${upperTweetId}/reply/`, callback, {content: newTweet})\n}\n\nexport function apiRepliesList(upperTweetId, callback) {\n    backendLookup(\"GET\", `/tweets/${upperTweetId}/replies/`, callback)\n}\n\nexport function apiTweetAction(tweetId, action, callback, content = \"\") {\n    const data = content === \"\"\n        ? {id: tweetId, action: action}\n        : {id: tweetId, action: action, content: content}\n    backendLookup(\"POST\", \"/tweets/action/\", callback, data)\n}\n\nexport function apiTweetDetail(tweetId, callback) {\n    backendLookup(\"GET\", `/tweets/${tweetId}/`, callback)\n}\n\nexport function apiTweetList(username, callback, nextUrl) {\n    let endpoint = \"/tweets/\"\n    if (username) {\n        endpoint = `/tweets/?username=${username}`\n    }\n    if (nextUrl !== null &&  nextUrl !== undefined) {\n        endpoint = nextUrl.replace(`${process.env.REACT_APP_BACKEND_BASE_URL}/api`, \"\")\n    }\n    backendLookup(\"GET\", endpoint, callback)\n}\n\nexport function apiTweetFeed(callback, nextUrl) {\n    let endpoint = \"/tweets/feed\"\n    if (nextUrl !== null &&  nextUrl !== undefined) {\n        endpoint = nextUrl.replace(`${process.env.REACT_APP_BACKEND_BASE_URL}/api`, \"\")\n    }\n    backendLookup(\"GET\", endpoint, callback)\n}\n\nexport function apiTweetDelete(tweetId, callback) {\n    backendLookup(\"DELETE\", `/tweets/${tweetId}/delete/`, callback)\n}\n\nexport function apiTweetSearch(searchTerm, callback) {\n    backendLookup(\"GET\", `/tweets/search/?q=${encodeURIComponent(searchTerm)}`, callback)\n}\n\nexport function apiPreviousTweet(tweetId, callback) {\n    backendLookup(\"GET\", `/tweets/${tweetId}/previous/`, callback)\n}","import {backendLookup} from \"../lookup\"\n\nexport function apiProfileBookmarks(username, callback) {\n    backendLookup(\"GET\", `/profiles/${username}/bookmarks`, callback)\n}\n\nexport function apiProfileAddOrRemoveBookmark(username, tweet_id, callback) {\n    backendLookup(\"POST\", `/profiles/${username}/bookmarks/${tweet_id}`, callback)\n}","import React, {useState} from \"react\"\nimport {Modal, Button, Form, Toast} from \"react-bootstrap\"\nimport {apiTweetAction} from \"./lookup\"\nimport {apiProfileAddOrRemoveBookmark} from \"../sidebar/lookup\"\n\nexport function ActionBtn(props) {\n    const {tweet, action, didPerformAction} = props\n    const likes = tweet.likes ? tweet.likes : 0\n    const className = props.className ? props.className : \"btn btn-primary btn-sm rounded-pill me-1\"\n    const [modalShow, setModalShow] = useState(false)\n    const [retweetContent, setRetweetContent] = useState(\"\")\n\n    const handleActionBackendEvent = (response, status) => {\n      console.log(response, status)\n      if ((status === 200 || status === 201) && didPerformAction) {\n        didPerformAction(response, status)\n      }\n    }\n\n    const handleClick = (event) => {\n      event.preventDefault()\n      if (action.type === \"retweet\") {\n        setModalShow(true)\n      } else {\n        apiTweetAction(tweet.id, action.type, handleActionBackendEvent)\n      }\n    }\n\n    const handleSubmit = (event) => {\n      event.preventDefault()\n      apiTweetAction(tweet.id, action.type, handleActionBackendEvent, retweetContent)\n      setModalShow(false)\n    }\n\n    let iconClass = \"\"\n    if (action.type === \"like\") {\n      iconClass = \"fas fa-thumbs-up\"\n    } else if (action.type === \"unlike\") {\n      iconClass = \"fas fa-thumbs-down\"\n    } else if (action.type === \"retweet\") {\n      iconClass = \"fas fa-retweet\"\n    }\n\n    const display = action.type === \"like\" ? `${likes} ` : \"\"\n\n    return (\n      <React.Fragment>\n        <button className={className} onClick={handleClick}>\n          {display} <i className={iconClass}></i>\n        </button>\n        <Modal show={modalShow} onHide={() => setModalShow(false)}>\n          <Modal.Header closeButton>\n            <Modal.Title className=\"d-flex justify-content-center\">Retweet</Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n            <Form onSubmit={handleSubmit}>\n              <Form.Group controlId=\"retweetForm.ControlInput\">\n                <Form.Label>Your comment: (optional)</Form.Label>\n                <Form.Control\n                  className=\"form-control me-2 rounded-pill p-4\"\n                  type=\"text\"\n                  rows={3}\n                  value={retweetContent}\n                  onChange={(e) => setRetweetContent(e.target.value)}\n                />\n              </Form.Group>\n              <div className=\"d-flex justify-content-center\">\n                <Button variant=\"primary\" type=\"submit\" className=\"btn btn-primary my-3 rounded-pill p-3 w-25\">\n                  <i className=\"fas fa-paper-plane\"></i>&emsp;Send\n                </Button>\n              </div>\n            </Form>\n          </Modal.Body>\n        </Modal>\n      </React.Fragment>\n    )\n}\n\nexport function DeleteBtn(props) {\n  const {tweet, onDelete} = props\n\n  const handleDelete = () => {\n    onDelete(tweet.id)\n  }\n\n  return <button className=\"btn btn-danger btn-sm rounded-pill me-1\" onClick={handleDelete}>\n    <i className=\"fas fa-trash\"></i>\n    </button>\n}\n\nexport function AddOrRemoveBookmarkBtn(props) {\n  const {tweet, currentUser, didBookmarkRemoved} = props\n  const className = props.className ? props.className : \"btn btn-primary btn-sm rounded-pill me-1\"\n  const [showToast, setShowToast] = useState(false)\n  const [toastMessage, setToastMessage] = useState(\"\")\n\n  const handleActionBackendEvent = (response, status) => {\n    if (status === 201) {\n      setToastMessage(\"Tweet added to bookmarks\")\n      setShowToast(true)\n      setTimeout(() => setShowToast(false), 2000)\n    } else if (status === 204) {\n      setToastMessage(\"Tweet removed from bookmarks\")\n      setShowToast(true)\n      setTimeout(() => setShowToast(false), 2000)\n      didBookmarkRemoved(tweet.id)\n    }\n  }\n\n  const handleClick = (event) => {\n    event.preventDefault()\n    apiProfileAddOrRemoveBookmark(currentUser.username, tweet.id, handleActionBackendEvent)\n  }\n\n  return (\n    <React.Fragment>\n      <button data-testid=\"delete-button\" className={className} onClick={handleClick}>\n        <i className=\"fas fa-bookmark\"></i>\n      </button>\n\n      <Toast\n        style={{borderRadius:\"25px\", borderColor:\"white\", height:\"50px\", backgroundColor:\"#282828\", color: \"white\"}}\n        onClose={() => setShowToast(false)}\n        show={showToast}\n        delay={2000}\n        autohide>\n        <Toast.Body>{toastMessage}</Toast.Body>\n      </Toast>\n    </React.Fragment>\n  )\n}","import {backendLookup} from \"../lookup\"\n\nexport function apiProfileDetail(username, callback) {\n    backendLookup(\"GET\", `/profiles/${username}/`, callback)\n}\n\nexport function apiProfileFollowToggle(username, action, callback) {\n    const data = {action: `${action && action}`.toLowerCase()}\n    backendLookup(\"POST\", `/profiles/${username}/follow`, callback, data)\n}\n\nexport function apiProfileLikes(username, callback, nextUrl) {\n    let endpoint = `/tweets/likes?username=${encodeURIComponent(username)}`\n    if (nextUrl !== null && nextUrl !== undefined) {\n        endpoint = nextUrl.replace(`${process.env.REACT_APP_BACKEND_BASE_URL}/api`, \"\")\n    }\n    backendLookup(\"GET\", endpoint, callback)\n}\n\nexport function apiProfileReplies(username, callback, nextUrl) {\n    let endpoint = `/tweets/replies?username=${encodeURIComponent(username)}`\n    if (nextUrl !== null && nextUrl !== undefined) {\n        endpoint = nextUrl.replace(`${process.env.REACT_APP_BACKEND_BASE_URL}/api`, \"\")\n    }\n    backendLookup(\"GET\", endpoint, callback)\n}\n\nexport function apiProfileFollowers(username, callback, nextUrl) {\n    let endpoint = `/profiles/${encodeURIComponent(username)}/followers`\n    if (nextUrl !== null && nextUrl !== undefined) {\n        endpoint = nextUrl.replace(`${process.env.REACT_APP_BACKEND_BASE_URL}/api`, \"\")\n    }\n    backendLookup(\"GET\", endpoint, callback)\n}\n\nexport function apiProfileFollowing(username, callback, nextUrl) {\n    let endpoint = `/profiles/${encodeURIComponent(username)}/following`\n    if (nextUrl !== null && nextUrl !== undefined) {\n        endpoint = nextUrl.replace(`${process.env.REACT_APP_BACKEND_BASE_URL}/api`, \"\")\n    }\n    backendLookup(\"GET\", endpoint, callback)\n}","import {useState, useEffect} from \"react\"\n\nexport const useCurrentUser = () => {\n  const [currentUser, setCurrentUser] = useState(null)\n  const [isLoading, setIsLoading] = useState(true)\n\n  useEffect(() => {\n    fetch(`${process.env.REACT_APP_BACKEND_BASE_URL}/api/accounts/current-user/`)\n      .then((response) => response.json())\n      .then((data) => {\n        setCurrentUser(data)\n        setIsLoading(false)\n      })\n  }, [])\n\n  return {currentUser, isLoading}\n}","import React, {useEffect, useState, useCallback} from \"react\"\nimport {apiProfileLikes, apiProfileReplies} from \"./lookup\"\nimport {Tweet} from \"../tweets/detail\"\nimport {useCurrentUser} from \"../auth/hooks\"\nimport {useParams} from \"react-router-dom\"\n\nexport function UserLink(props) {\n  const {username} = props\n  const handleUserLink = (event) => {\n    window.location.href = `/profiles/${username}`\n  }\n\n  return <span className=\"pointer\" onClick={handleUserLink}>\n                {props.children}\n          </span>\n}\n\nexport function UserDisplay(props) {\n  const {user, includeFullName, hideLink} = props\n  const nameDisplay = includeFullName === true ? `${user.first_name} ${user.last_name} ` : null\n  return <React.Fragment>\n            {nameDisplay}\n            {hideLink === true ? `@${user.username}` : <UserLink username={user.username}>@{user.username}</UserLink>}\n          </React.Fragment>\n}\n\nexport function UserPicture(props) {\n  const {user, hideLink} = props\n  const userIdSpan = <span className=\"mx-1 px-3 py-2 rounded-circle bg-white text-dark\">{user.username[0]}</span>\n\n  return hideLink === true ? userIdSpan : <UserLink username={user.username}>{userIdSpan}</UserLink>\n}\n\nexport function ProfileRepliesOrLikesComponent(props) {\n  const [tweets, setTweets] = useState([])\n  const [nextUrl, setNextUrl] = useState(null)\n  const [tweetUnliked, setTweetUnliked] = useState(false)\n  const areReplies = props.areReplies\n  const {currentUser, isLoading} = useCurrentUser()\n  const sentinel = React.useRef()\n  const param = useParams()\n  const username = param.username\n\n  useEffect(() => {\n    const handleProfileLookup = (response, status) => {\n      if (status === 200) {\n        setNextUrl(response.next)\n        setTweets(response.results)\n      } else {\n        alert(\"There was an error.\")\n      }\n    }\n    areReplies ? apiProfileReplies(username, handleProfileLookup) : apiProfileLikes(username, handleProfileLookup)\n  }, [username, tweetUnliked, areReplies])\n\n  const handleLoadNext = useCallback((event) => {\n    if (event) {\n      event.preventDefault()\n    }\n    if (nextUrl !== null) {\n      const handleLoadNextResponse = (response, status) => {\n        if (status === 200) {\n          setNextUrl(response.next)\n          const newTweets = [...tweets].concat(response.results)\n          setTweets(newTweets)\n        } else {\n          alert(\"There was an error.\")\n        }\n      }\n      areReplies ? apiProfileReplies(username, handleLoadNextResponse) : apiProfileLikes(username, handleLoadNextResponse)\n    }\n  }, [tweets, nextUrl, username, areReplies])\n\n  useEffect(() => {\n    const currentSentinel = sentinel.current\n    const observer = new IntersectionObserver((entries) => {\n      if (entries.some((entry) => entry.isIntersecting)) {\n        handleLoadNext()\n      }\n    })\n    if (currentSentinel) {\n      observer.observe(currentSentinel)\n    }\n    return () => {\n      if (currentSentinel) {\n        observer.unobserve(currentSentinel)\n      }\n    }\n  }, [handleLoadNext])\n\n  const handleUnliked = (newActionTweet) => {\n    setTweetUnliked(!tweetUnliked)\n  }\n\n  return !isLoading ? <React.Fragment>{tweets.map((item, index) => {\n    return <Tweet\n      tweet={item}\n      currentUser={currentUser}\n      unliked={handleUnliked}\n      className=\"my-4 py-2 border bg-dark text-white rounded-pill w-50\"\n      key={`${index}-${item.id}`}/>\n  })}\n  <div ref={sentinel} />\n  </React.Fragment> : <div>Loading...</div>\n}","import React from \"react\"\nimport numeral from \"numeral\"\n\nexport function DisplayCount(props) {\n    return <span className={props.className}>\n        {numeral(props.children).format(\"0a\")}\n    </span>\n}","import React, {useState, useEffect} from \"react\"\nimport {useParams} from \"react-router-dom\"\nimport {apiProfileDetail, apiProfileFollowToggle} from \"./lookup\"\nimport {UserDisplay, UserPicture} from \"./components\"\nimport {DisplayCount} from \"./utils\"\nimport {Link} from \"react-router-dom\"\n\nexport function ProfileBadge(props) {\n    const {user, didFollowToggle, profileLoading, currentUserUsername} = props\n    let currentVerb = (user && user.is_following) ? \"Unfollow\" : \"Follow\"\n    currentVerb = profileLoading ? \"Loading...\" : currentVerb\n\n    const handleFollowToggle = (event) => {\n        event.preventDefault()\n        if (didFollowToggle && !profileLoading) {\n            didFollowToggle(currentVerb)\n        }\n    }\n\n    return user\n            ? <div style={{marginLeft: \"60px\", marginRight: \"100px\"}}>\n                <div style={{marginLeft: \"60px\", display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\"}}>\n                    <UserPicture user={user} hideLink />\n                    {user.username !== currentUserUsername\n                        ? <button className=\"btn btn-primary rounded-pill\" onClick={handleFollowToggle}>{currentVerb}</button>\n                        : null}\n                </div>\n                <br/><br/>\n                <p align=\"left\"><UserDisplay user={user} includeFullName hideLink /></p>\n                <p align=\"left\" style={{width: \"450px\"}}>{user.bio}</p>\n                <p align=\"left\">\n                    <i className=\"fa fa-map-marker-alt\"></i>&ensp;{user.location}\n                    &ensp;&ensp;\n                    <i className=\"fa fa-calendar-alt\"></i>&ensp;Joined&ensp;\n                                    {new Intl.DateTimeFormat(\"en-US\", {month: \"long\", year: \"numeric\"}).format(new Date(user.timestamp))}</p>\n                <p style={{display: \"flex\", alignItems: \"center\"}}>\n                    <Link to={`/profiles/${user.username}/followers`} style={{textDecoration: \"none\", color: \"inherit\"}}>\n                        <DisplayCount>{user.followers_count}</DisplayCount>&nbsp;{user.followers_count === 1 ? \"follower\" : \"followers\"}\n                    </Link>\n                    &ensp;&ensp;\n                    <Link to={`/profiles/${user.username}/following`} style={{textDecoration: \"none\", color: \"inherit\"}}>\n                        <DisplayCount>{user.following_count}</DisplayCount>&nbsp;following\n                    </Link>\n                </p>\n            </div>\n            : null\n}\n\nexport function ProfileBadgeComponent(props) {\n    const param = useParams()\n    const username = param.username\n    const {currentUserUsername} = props\n    const [didLookup, setDidLookup] = useState(false)\n    const [profile, setProfile] = useState(null)\n    const [profileLoading, setProfileLoading] = useState(false)\n\n    const handleBackendLookup = (response, status) => {\n        if (status === 200) {\n            setProfile(response)\n        }\n    }\n\n    useEffect(()=>{\n        if (didLookup === false) {\n            apiProfileDetail(username, handleBackendLookup)\n            setDidLookup(true)\n        }\n    }, [username, didLookup, setDidLookup])\n\n    const handleNewFollow = (actionVerb) => {\n        apiProfileFollowToggle(username, actionVerb, (response, status) => {\n            if (status === 200) {\n                setProfile(response)\n            }\n            setProfileLoading(false)\n        })\n        setProfileLoading(true)\n    }\n\n    return didLookup === false ? \"Loading...\" : profile ? <ProfileBadge\n                                                                user={profile}\n                                                                currentUserUsername={currentUserUsername}\n                                                                didFollowToggle={handleNewFollow}\n                                                                profileLoading={profileLoading} /> : null\n}","import React, {useState} from \"react\"\nimport {ProfileBadgeComponent} from \"./badge\"\nimport {ProfileTweetsComponent} from \"../tweets/components\"\nimport {ProfileRepliesOrLikesComponent} from \"./components\"\n\nexport function ProfileComponent({currentUser}) {\n    const [selectedTab, setSelectedTab] = useState(\"tweets\")\n\n    const renderTabContent = () => {\n        switch (selectedTab) {\n            case \"tweets\":\n                return <ProfileTweetsComponent currentUserUsername={currentUser.username} />\n            case \"replies\":\n                return <ProfileRepliesOrLikesComponent currentUserUsername={currentUser.username} areReplies={true} />\n            case \"likes\":\n                return <ProfileRepliesOrLikesComponent currentUserUsername={currentUser.username} areReplies={false} />\n            default:\n                return null\n        }\n    }\n\n    return (\n        <div className=\"mt-4\">\n            {currentUser &&\n                <div className=\"py-4 border rounded-pill w-50 p-4\">\n                    <ProfileBadgeComponent currentUserUsername={currentUser.username} />\n                </div>}\n            {currentUser &&\n                <div>\n                    <div className=\"d-flex justify-content-between border rounded-pill w-25 my-3\" style={{marginLeft: \"150px\"}}>\n                        <button className=\"btn btn-primary rounded-pill\" onClick={() => setSelectedTab(\"tweets\")}>Tweets</button>\n                        <button className=\"btn btn-primary rounded-pill\" onClick={() => setSelectedTab(\"replies\")}>Replies</button>\n                        <button className=\"btn btn-primary rounded-pill\" onClick={() => setSelectedTab(\"likes\")}>Likes</button>\n                    </div>\n                    {renderTabContent()}\n                </div>}\n        </div>\n    )\n}","import React, {useEffect, useState, useCallback} from \"react\"\nimport {apiProfileFollowers, apiProfileFollowing, apiProfileFollowToggle} from \"./lookup\"\nimport {useParams} from \"react-router-dom\"\nimport {UserPicture, UserDisplay} from \"./components\"\n\nexport function FollowListComponent(props) {\n    const [followListDidSet, setFollowListDidSet] = useState(false)\n    const [followList, setFollowList] = useState([])\n    const [nextUrl, setNextUrl] = useState(null)\n    const {currentUser, followers} = props\n    const sentinel = React.useRef()\n    const profileUser = useParams().username\n\n    useEffect(() => {\n        if (followListDidSet === false) {\n            const handleFollowListLookup = (response, status) => {\n                if (status === 200) {\n                    setNextUrl(response.next)\n                    setFollowList(response.results)\n                    setFollowListDidSet(true)\n                } else {\n                    alert(\"There was an error.\")\n                }\n            }\n            if (followers) {\n                apiProfileFollowers(profileUser, handleFollowListLookup)\n            } else {\n                apiProfileFollowing(profileUser, handleFollowListLookup)\n            }\n        }\n    }, [followList, followListDidSet, setFollowListDidSet, profileUser, followers])\n\n    const handleLoadNext = useCallback((event) => {\n        if (event) {\n          event.preventDefault()\n        }\n        if (nextUrl !== null) {\n          const handleLoadNextResponse = (response, status) => {\n            if (status === 200) {\n              setNextUrl(response.next)\n              const newFollowList = [...followList].concat(response.results)\n              setFollowList(newFollowList)\n            } else {\n              alert(\"There was an error.\")\n            }\n          }\n          if (followers) {\n            apiProfileFollowers(profileUser, handleLoadNextResponse)\n          } else {\n            apiProfileFollowing(profileUser, handleLoadNextResponse)\n          }\n        }\n      }, [nextUrl, profileUser, followers, followList])\n\n      useEffect(() => {\n        const currentSentinel = sentinel.current\n\n        const observer = new IntersectionObserver((entries) => {\n          if (entries.some((entry) => entry.isIntersecting)) {\n            handleLoadNext()\n          }\n        })\n\n        if (currentSentinel) {\n          observer.observe(currentSentinel)\n        }\n\n        return () => {\n          if (currentSentinel) {\n            observer.unobserve(currentSentinel)\n          }\n        }\n      }, [handleLoadNext])\n\n      const handleUnfollowToggle = (userToUnfollow) => {\n        apiProfileFollowToggle(userToUnfollow.username, \"unfollow\", (response, status) => {\n          if (status === 200) {\n            setFollowList(followList.filter((follower) => follower.username !== userToUnfollow.username))\n          }\n        })\n      }\n\n      return <React.Fragment>{followList.map((item, index) => {\n        return <div className=\"my-4 py-2 border bg-white text-dark rounded-pill w-50\" key={`${index}`}>\n                    <UserPicture user={item} hideLink={false} />\n                    &ensp;<UserDisplay user={item} includeFullName={true} hideLink={false} />\n                    {profileUser === currentUser.username && followers === false ? <button\n                        className=\"btn btn-primary rounded-pill\"\n                        style={{marginLeft: \"300px\"}}\n                        onClick={() => handleUnfollowToggle(item)}>\n                        Unfollow\n                    </button> : null}\n                </div>\n      })}\n      <div ref={sentinel} />\n      </React.Fragment>\n}","import React, {useState, useEffect} from \"react\"\nimport {ActionBtn, DeleteBtn, AddOrRemoveBookmarkBtn} from \"./buttons\"\nimport {apiTweetDelete} from \"./lookup\"\nimport {UserDisplay, UserPicture} from \"../profiles\"\nimport {Link} from \"react-router-dom\"\nimport {Button} from \"react-bootstrap\"\nimport {apiRepliesList} from \"./lookup\"\n\nexport function ParentTweet(props) {\n    const {tweet, onDeleteSuccess} = props\n    return tweet.parent ? <Tweet\n                            isRetweet\n                            retweeter={props.retweeter}\n                            hideActions\n                            className={\"my-4 py-2 border bg-dark text-white rounded-pill\"}\n                            tweet={tweet.parent}\n                            onDeleteSuccess={onDeleteSuccess} /> : null\n}\n\nexport function Tweet(props) {\n    const {tweet, currentUser, didRetweet, hideActions, isRetweet, onDeleteSuccess, unliked, didBookmarkRemoved} = props\n    const [actionTweet, setActionTweet] = useState(props.tweet ? props.tweet : null)\n    let className = props.className ? props.className : \"col-10 mx-auto col-md-6\"\n    className = isRetweet === true ? `${className} p-2 border rounded` : className\n    const [repliesCount, setRepliesCount] = useState(props.repliesCount)\n\n    const handlePerformAction = (newActionTweet, status) => {\n      if (status === 200) {\n        setActionTweet(newActionTweet)\n        if (unliked !== undefined) {\n          unliked(newActionTweet)\n        }\n      } else if (status === 201) {\n        if (didRetweet) {\n          didRetweet(newActionTweet)\n        }\n      }\n    }\n\n    const handleDelete = (tweetId) => {\n      apiTweetDelete(tweetId, (response, status) => {\n        if (status === 204) {\n          onDeleteSuccess(tweetId)\n        } else {\n          console.log(response)\n        }\n      })\n    }\n\n    const handleBookmarkRemoved = (tweetId) => {\n      didBookmarkRemoved(tweetId)\n    }\n\n    const handleBackendRepliesLookup = (response, status) => {\n      if (status === 200) {\n        if (response.results.length !== undefined) {\n          setRepliesCount(response.results.length)\n        }\n      }\n    }\n\n    useEffect(() => {\n      apiRepliesList(tweet.id, handleBackendRepliesLookup)\n    }, [tweet, props.repliesCount])\n\n    return (\n      <div className={className}>\n        <div className=\"d-flex\">\n          <div className=\"col-3 my-auto p-2\">\n            <UserPicture user={tweet.user} />\n            <br /><br /><p><UserDisplay includeFullName user={tweet.user} /></p>\n          </div>\n          <div className=\"col-8\">\n            <Link to={`/${tweet.id}`} className=\"tweet-wrapper\" style={{textDecoration: \"none\", color: \"inherit\"}}>\n              <div>\n                <p>{tweet.content}</p>\n                <ParentTweet\n                  tweet={tweet}\n                  retweeter={tweet.user}\n                  onDeleteSuccess={onDeleteSuccess}\n                />\n              </div>\n            </Link>\n            <br />\n            <div className=\"btn btn-group px-0\">\n              {actionTweet && hideActions !== true && (\n                <React.Fragment>\n                  <Button variant=\"primary\" className=\"btn btn-primary rounded-pill mx-1\" href={`/${tweet.id}`}>\n                    {repliesCount} <i className=\"fas fa-comment\"></i>\n                  </Button>\n                  <ActionBtn\n                    tweet={actionTweet}\n                    didPerformAction={handlePerformAction}\n                    action={{type: \"like\", display: \"Like\"}}\n                  />\n                  <ActionBtn\n                    tweet={actionTweet}\n                    didPerformAction={handlePerformAction}\n                    action={{type: \"unlike\", display: \"Unlike\"}}\n                  />\n                  <ActionBtn\n                    tweet={tweet}\n                    didPerformAction={handlePerformAction}\n                    action={{type: \"retweet\", display: \"Retweet\"}}\n                  />\n                  {currentUser &&\n                    currentUser.username === tweet.user.username && (\n                      <DeleteBtn tweet={tweet} onDelete={handleDelete} />\n                  )}\n                  <AddOrRemoveBookmarkBtn\n                    tweet={tweet}\n                    currentUser={currentUser}\n                    didBookmarkRemoved={handleBookmarkRemoved}\n                  ></AddOrRemoveBookmarkBtn>\n                </React.Fragment>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n}","import React, {useEffect, useState, useCallback} from \"react\"\nimport {apiTweetList, apiTweetFeed} from \"./lookup\"\nimport {Tweet} from \"./detail\"\nimport {useCurrentUser} from \"../auth/hooks\"\nimport {useParams} from \"react-router-dom\"\n\nexport function TweetFeedList(props) {\n    const [tweetsInit, setTweetsInit] = useState([])\n    const [tweets, setTweets] = useState([])\n    const [nextUrl, setNextUrl] = useState(null)\n    const [tweetsDidSet, setTweetsDidSet] = useState(false)\n    const {currentUser, isLoading} = useCurrentUser()\n    const sentinel = React.useRef()\n    const profileUser = useParams()\n\n    useEffect(() => {\n      if (props.searchedTweets === null) {\n        const final = [...props.newTweets].concat(tweetsInit)\n        if (final.length !== tweets.length) {\n          setTweets(final)\n        }\n      } else if (props.searchedTweets) {\n        setTweets(props.searchedTweets)\n      }\n    }, [props.searchedTweets, props.newTweets, tweets, tweetsInit])\n\n    useEffect(() => {\n      if (tweetsDidSet === false) {\n        const handleTweetListLookup = (response, status) => {\n          if (status === 200) {\n            setNextUrl(response.next)\n            setTweetsInit(response.results)\n            setTweetsDidSet(true)\n          } else {\n            alert(\"There was an error.\")\n          }\n        }\n        if (props.isFeed) {\n          apiTweetFeed(handleTweetListLookup)\n        } else {\n          apiTweetList(profileUser.username, handleTweetListLookup)\n        }\n      }\n    }, [tweetsInit, tweetsDidSet, setTweetsDidSet, profileUser.username, props.isFeed])\n\n    const handleDidRetweet = (newTweet) => {\n      if (!(props.isFeed === false && currentUser !== profileUser)) {\n        const updateTweetsInit = [...tweetsInit]\n        updateTweetsInit.unshift(newTweet)\n        setTweetsInit(updateTweetsInit)\n        const updateFinalTweets = [...tweets]\n        updateFinalTweets.unshift(newTweet)\n        setTweets(updateFinalTweets)\n      }\n    }\n\n    const handleLoadNext = useCallback((event) => {\n      if (event) {\n        event.preventDefault()\n      }\n      if (nextUrl !== null) {\n        const handleLoadNextResponse = (response, status) => {\n          if (status === 200) {\n            setNextUrl(response.next)\n            const newTweets = [...tweets].concat(response.results)\n            setTweetsInit(newTweets)\n            setTweets(newTweets)\n          } else {\n            alert(\"There was an error.\")\n          }\n        }\n        if (props.isFeed) {\n          apiTweetFeed(handleLoadNextResponse, nextUrl)\n        } else {\n          apiTweetList(profileUser.username, handleLoadNextResponse, nextUrl)\n        }\n      }\n    }, [tweets, nextUrl, props.isFeed, profileUser.username])\n\n    useEffect(() => {\n      const currentSentinel = sentinel.current\n\n      const observer = new IntersectionObserver((entries) => {\n        if (entries.some((entry) => entry.isIntersecting)) {\n          handleLoadNext()\n        }\n      })\n\n      if (currentSentinel) {\n        observer.observe(currentSentinel)\n      }\n\n      return () => {\n        if (currentSentinel) {\n          observer.unobserve(currentSentinel)\n        }\n      }\n    }, [handleLoadNext])\n\n    const handleDeleteSuccess = (deletedTweetId) => {\n      setTweetsInit(tweets.filter((tweet) => tweet.id !== deletedTweetId))\n      setTweets(tweets.filter((tweet) => tweet.id !== deletedTweetId))\n    }\n\n    return !isLoading ? <React.Fragment>{tweets.map((item, index) => {\n      return <Tweet\n        tweet={item}\n        currentUser={currentUser}\n        didRetweet={handleDidRetweet}\n        onDeleteSuccess={handleDeleteSuccess}\n        className=\"my-4 py-2 border bg-dark text-white rounded-pill w-50\"\n        key={`${index}-${item.id}`}\n        data-testid=\"tweet-item\" />\n    })}\n    <div ref={sentinel} data-testid=\"sentinel\" />\n    </React.Fragment> : <div>Loading...</div>\n}","import React, {useEffect, useState} from \"react\"\nimport {apiTweetSearch} from \"./lookup\"\n\nexport function TweetSearch(props) {\n    const [searchTerm, setSearchTerm] = useState(\"\")\n    const {setSearchResults} = props\n\n    const handleInputChange = (event) => {\n        setSearchTerm(event.target.value)\n        if (event.target.value.trim() === \"\") {\n            setSearchResults(null)\n        }\n    }\n\n    useEffect(() => {\n        if (searchTerm.trim()) {\n            apiTweetSearch(searchTerm, (response, status) => {\n                if (status === 200) {\n                    setSearchResults(response)\n                } else {\n                    console.log(\"Error while searching tweets: \", response)\n                }\n            })\n        }\n    }, [searchTerm, setSearchResults])\n\n    return (\n        <form className=\"d-flex mt-2 w-50 p-2\" role=\"search\">\n            <input\n                className=\"form-control me-2 rounded-pill p-2 bg-dark text-white input-placeholder\"\n                type=\"search\"\n                placeholder=\"Search twitter\"\n                aria-label=\"Search\"\n                value={searchTerm}\n                onChange={handleInputChange}\n            />\n        </form>\n    )\n}","import React from \"react\"\nimport {apiTweetCreate, apiReplyCreate} from \"./lookup\"\n\nexport function CreateForm({onSubmit, placeholder}) {\n  const textAreaRef = React.createRef()\n\n  const handleSubmit = (event) => {\n    event.preventDefault()\n    const newVal = textAreaRef.current.value\n    onSubmit(newVal)\n    textAreaRef.current.value = \"\"\n  }\n\n  return (\n    <div className=\"create-form p-2\">\n      <form onSubmit={handleSubmit}>\n        <input\n          ref={textAreaRef}\n          required={true}\n          className=\"form-control me-2 rounded-pill p-4 bg-dark text-white input-placeholder\"\n          placeholder={placeholder}\n          name=\"content\">\n        </input>\n        <button type=\"submit\" className=\"btn btn-primary my-3 rounded-pill p-3 w-25\"><i className=\"fas fa-paper-plane\"></i>&emsp;Send</button>\n      </form>\n    </div>\n  )\n}\n\nexport function TweetCreate(props) {\n  const {didTweet} = props\n\n  const handleBackendUpdate = (response, status) => {\n    if (status === 201) {\n      didTweet(response)\n    } else {\n      console.log(response)\n      alert(\"An error occured, please try again.\")\n    }\n  }\n\n  const handleSubmit = (newVal) => {\n    apiTweetCreate(newVal, handleBackendUpdate)\n  }\n\n  return (\n    <div className={props.className}>\n      <CreateForm onSubmit={handleSubmit} placeholder=\"Write your tweet here...\" />\n    </div>\n  )\n}\n\nexport function ReplyCreate(props) {\n  const {didReply, upperTweetId} = props\n\n  const handleBackendUpdate = (response, status) => {\n    if (status === 201) {\n      didReply(response)\n    } else {\n      console.log(response)\n      alert(\"An error occured, please try again.\")\n    }\n  }\n\n  const handleSubmit = (newVal) => {\n    apiReplyCreate(newVal, upperTweetId, handleBackendUpdate)\n  }\n\n  return (\n    <div className={props.className}>\n      <CreateForm onSubmit={handleSubmit} placeholder=\"Write your reply here...\" />\n    </div>\n  )\n}","import React, {useEffect, useState} from \"react\"\nimport {useParams} from \"react-router-dom\"\nimport {TweetFeedList} from \"./feedlist\"\nimport {TweetSearch} from \"./searchbar\"\nimport {TweetCreate, ReplyCreate} from \"./create\"\nimport {Tweet} from \"./detail\"\nimport {apiTweetDetail, apiRepliesList, apiPreviousTweet} from \"./lookup\"\nimport {useCurrentUser} from \"../auth/hooks\"\nimport \"../App.css\"\n\nexport function FeedOrProfileTweetsComponent(props) {\n  const [newTweets, setNewTweets] = useState([])\n  const canTweet = props.canTweet === \"false\" ? false : true\n  const [searchResults, setSearchResults] = useState([])\n\n  const handleNewTweet = (newTweet) => {\n    let tempNewTweets = [...newTweets]\n    tempNewTweets.unshift(newTweet)\n    setNewTweets(tempNewTweets)\n  }\n\n  return <div className=\"container\">\n          {props.isFeed === true && <TweetSearch setSearchResults={setSearchResults} />}\n          <div className={props.className}>\n            {canTweet === true && props.isFeed === true && <TweetCreate didTweet={handleNewTweet} className=\"col-6 mb-3\" />}\n            <TweetFeedList newTweets={newTweets} searchedTweets={searchResults && searchResults.length > 0 ? searchResults : null} isFeed={props.isFeed} {...props} />\n          </div>\n        </div>\n}\n\nexport function FeedComponent(props) {\n  return <FeedOrProfileTweetsComponent isFeed={true} {...props} />\n}\n\nexport function ProfileTweetsComponent(props) {\n  return <FeedOrProfileTweetsComponent isFeed={false} {...props} />\n}\n\nexport function TweetDetailComponentWrapper() {\n  const {tweetId} = useParams()\n  return <TweetDetailComponent tweetId={tweetId} />\n}\n\nexport function TweetDetailComponent(props) {\n  const {tweetId} = props\n  const [tweet, setTweet] = useState(null)\n  const [replies, setReplies] = useState([])\n  const {currentUser, isLoading} = useCurrentUser()\n  const [isTweetDeleted, setIsTweetDeleted] = useState(false)\n  const [previousTweet, setPreviousTweet] = useState(null)\n  const [repliesCount, setRepliesCount] = useState(0)\n\n  const handleBackendLookup = (response, status) => {\n    if (status === 200) {\n      setTweet(response)\n    } else {\n      alert(\"There was an error finding tweet.\")\n    }\n  }\n\n  const handlePreviousTweetLookup = (response, status) => {\n    if (status === 200) {\n      if (response.detail !== \"This is first tweet in thread.\") {\n        setPreviousTweet(response)\n      } else {\n        setPreviousTweet(null)\n      }\n    } else {\n      alert(\"There was an error finding the previous tweet.\")\n    }\n  }\n\n  const handleBackendRepliesLookup = (response, status) => {\n    if (status === 200) {\n      setReplies(response.results || [])\n      setRepliesCount(response.results.length)\n    } else {\n      alert(\"There was an error finding replies.\")\n    }\n  }\n\n  const handleNewReply = (newReply) => {\n    let tempReplies = [...replies]\n    tempReplies.unshift(newReply)\n    setReplies(tempReplies)\n    setRepliesCount(repliesCount + 1)\n  }\n\n  useEffect(() => {\n    apiPreviousTweet(tweetId, handlePreviousTweetLookup)\n  }, [tweetId])\n\n  useEffect(() => {\n    apiTweetDetail(tweetId, handleBackendLookup)\n    apiRepliesList(tweetId, handleBackendRepliesLookup)\n  }, [tweetId, isTweetDeleted])\n\n  const handleTweetDeleteSuccess = (deletedTweetId) => {\n    setIsTweetDeleted(true)\n  }\n\n  const handleReplyDeleteSuccess = (deletedTweetId) => {\n    setReplies(replies.filter((tweet) => tweet.id !== deletedTweetId))\n    setRepliesCount(repliesCount - 1)\n  }\n\n  return tweet === null ? null : (\n    !isLoading ? <div className={props.className}>\n      {previousTweet && <Tweet\n                          tweet={previousTweet}\n                          currentUser={currentUser}\n                          className=\"my-3 py-2 border bg-dark text-white rounded-pill w-50\" />}\n      {previousTweet && <div class=\"d-flex\">\n        <div class=\"vertical-line\"></div>\n      </div>}\n      {!isTweetDeleted ? <Tweet\n        tweet={tweet}\n        currentUser={currentUser}\n        onDeleteSuccess={handleTweetDeleteSuccess}\n        repliesCount={repliesCount}\n        className=\"my-3 py-2 border bg-dark text-white rounded-pill w-50\" />\n        : <div class=\"my-4 py-2 border bg-dark text-white rounded-pill w-50\">This tweet has been deleted.</div>}\n      <ReplyCreate upperTweetId={tweetId} didReply={handleNewReply} className=\"col-12 mb-3 w-50\" />\n      {replies.slice().reverse().map((reply, index) => (\n        <Tweet\n          key={index}\n          tweet={reply}\n          currentUser={currentUser}\n          onDeleteSuccess={handleReplyDeleteSuccess}\n          className=\"my-4 py-2 border bg-dark text-white rounded-pill w-50\" />\n      ))}\n    </div> : <div data-testid=\"loading\">Loading...</div>\n  )\n}","import React from \"react\"\nimport {Link} from \"react-router-dom\"\n\nconst SidebarComponent = ({currentUser}) => {\n\n  return (\n    <div className=\"sidebar w-25\">\n      <h3>TWTR</h3>\n      <ul>\n        <li><Link to={\"/\"} style={{textDecoration: \"none\", color: \"inherit\"}}>Home</Link></li>\n        <li>Explore</li>\n        <li>Notifications</li>\n        <li>Messages</li>\n        <li><Link to={\"/bookmarks\"} style={{textDecoration: \"none\", color: \"inherit\"}}>Bookmarks</Link></li>\n        {currentUser && <li><Link to={`/profiles/${currentUser.username}`} style={{textDecoration: \"none\", color: \"inherit\"}}>Profile</Link></li>}\n        <li><a href={`${process.env.REACT_APP_BACKEND_BASE_URL}/logout/`} className=\"logout-link\" style={{textDecoration: \"none\", color: \"inherit\"}}>Logout</a></li>\n      </ul>\n    </div>\n  )\n}\n\nexport default SidebarComponent","import React, {useEffect, useState, useCallback} from \"react\"\nimport {apiProfileBookmarks} from \"./lookup\"\nimport {Tweet} from \"../tweets/detail\"\nimport {useCurrentUser} from \"../auth/hooks\"\n\nexport function BookmarksComponent() {\n    const [bookmarksDidSet, setBookmarksDidSet] = useState(false)\n    const [bookmarksList, setBookmarksList] = useState([])\n    const [nextUrl, setNextUrl] = useState(null)\n    const {currentUser, isLoading} = useCurrentUser()\n    const sentinel = React.useRef()\n\n    useEffect(() => {\n        if (bookmarksDidSet === false && currentUser !== null) {\n            const handleBookmarksListLookup = (response, status) => {\n                if (status === 200) {\n                    setNextUrl(response.next)\n                    setBookmarksList(response.results)\n                    setBookmarksDidSet(true)\n                } else {\n                    alert(\"There was an error.\")\n                }\n            }\n            apiProfileBookmarks(currentUser.username, handleBookmarksListLookup)\n        }\n    }, [bookmarksList, bookmarksDidSet, setBookmarksDidSet, currentUser])\n\n    const handleLoadNext = useCallback((event) => {\n        if (event) {\n          event.preventDefault()\n        }\n        if (nextUrl !== null) {\n          const handleLoadNextResponse = (response, status) => {\n            if (status === 200) {\n              setNextUrl(response.next)\n              const newBookmarksList = [...bookmarksList].concat(response.results)\n              setBookmarksList(newBookmarksList)\n            } else {\n              alert(\"There was an error.\")\n            }\n          }\n          apiProfileBookmarks(currentUser.username, handleLoadNextResponse)\n        }\n      }, [nextUrl, currentUser, bookmarksList])\n\n      useEffect(() => {\n        const currentSentinel = sentinel.current\n\n        const observer = new IntersectionObserver((entries) => {\n          if (entries.some((entry) => entry.isIntersecting)) {\n            handleLoadNext()\n          }\n        })\n\n        if (currentSentinel) {\n          observer.observe(currentSentinel)\n        }\n\n        return () => {\n          if (currentSentinel) {\n            observer.unobserve(currentSentinel)\n          }\n        }\n      }, [handleLoadNext])\n\n      const handleBookmarkRemoved = (tweetId) => {\n        setBookmarksList(bookmarksList.filter((bookmark) => bookmark.id !== tweetId))\n      }\n\n      return !isLoading ? <React.Fragment>{bookmarksList.map((item, index) => {\n        return <Tweet\n          tweet={item}\n          currentUser={currentUser}\n          didBookmarkRemoved={handleBookmarkRemoved}\n          className=\"my-4 py-2 border bg-dark text-white rounded-pill w-50\"\n          key={`${index}-${item.id}`}/>\n      })}\n      <div ref={sentinel} />\n      </React.Fragment> : <div>Loading...</div>\n}","import React from \"react\"\nimport \"./App.css\"\nimport {FeedComponent, TweetDetailComponentWrapper} from \"./tweets\"\nimport SidebarComponent from \"./sidebar/sidebar\"\nimport {useCurrentUser} from \"./auth/hooks\"\nimport {BrowserRouter as Router, Route, Routes} from \"react-router-dom\"\nimport {ProfileComponent} from \"./profiles\"\nimport {FollowListComponent} from \"./profiles\"\nimport {BookmarksComponent} from \"./sidebar/bookmarks\"\n\nfunction App() {\n  const {currentUser, isLoading} = useCurrentUser()\n\n  return (\n    <div className=\"App\">\n      <div className=\"container\" style={{marginLeft: \"500px\"}}>\n        <div id=\"search-bar\"></div>\n        <div style={{textAlign: \"center\"}}>\n          <Router>\n            <div id=\"sidebar\" style={{margin: \"0 auto\", textAlign: \"right\"}}>\n              <SidebarComponent currentUser={currentUser}/>\n            </div>\n            <Routes>\n              <Route\n                path=\"/:tweetId\"\n                element={<TweetDetailComponentWrapper />}\n              />\n              <Route\n                path=\"/profiles/:username/followers\"\n                element={<FollowListComponent currentUser={currentUser} followers={true} />}\n              />\n              <Route\n                path=\"/profiles/:username/following\"\n                element={<FollowListComponent currentUser={currentUser} followers={false} />}\n              />\n              <Route\n                path=\"/profiles/:username\"\n                element={<ProfileComponent currentUser={currentUser} />}\n              />\n              <Route\n                path=\"/bookmarks\"\n                element={<BookmarksComponent currentUser={currentUser} />}\n              />\n              <Route\n                exact\n                path=\"/\"\n                element={\n                  !isLoading && currentUser ? (\n                    <FeedComponent username={currentUser.username} canTweet={true} />\n                  ) : (\n                    <p>Loading...</p>\n                  )\n                }\n              />\n            </Routes>\n          </Router>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default App","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({getCLS, getFID, getFCP, getLCP, getTTFB}) => {\n      getCLS(onPerfEntry)\n      getFID(onPerfEntry)\n      getFCP(onPerfEntry)\n      getLCP(onPerfEntry)\n      getTTFB(onPerfEntry)\n    })\n  }\n}\n\nexport default reportWebVitals","import React from \"react\"\nimport ReactDOM from \"react-dom/client\"\nimport \"./index.css\"\nimport App from \"./App\"\nimport reportWebVitals from \"./reportWebVitals\"\n\nconst appEl = document.getElementById(\"root\")\nif (appEl) {\n  const root = ReactDOM.createRoot(appEl)\n  root.render(\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  )\n}\n\nreportWebVitals()"],"sourceRoot":""}